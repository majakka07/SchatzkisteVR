<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SchatzkisteVR</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://use.typekit.net/xmi1doj.css">

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <script>
    delete AFRAME.components["grabbable"];
  </script>
  <!-- Extras -->
  <script defer src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.x/dist/aframe-extras.min.js"></script>
  <!-- Hand Extras -->
  <script defer src="https://unpkg.com/super-hands@^3.0.5/dist/super-hands.min.js"></script>
  <!-- Teleportation -->
  <script defer src="https://cdn.jsdelivr.net/npm/aframe-blink-controls/dist/aframe-blink-controls.min.js"></script>
  <!-- My Scripts -->
  <script defer src="Components/workshopLink.js"></script>
  <script defer src="Components/modifyMaterials.js"></script>
  <script defer src="Components/paint.js"></script>
  <script defer src="Components/clearPainting.js"></script>
  <script defer src="Components/soundOnce.js"></script>
  <script defer src="Components/instructions.js"></script>

</head>

<body>
  <!-- NAVIGATION -------------------------------->
  <div class="navigation-container">
    <div class="navigation-switch-right"></div>
    <div class="navigation">
        <a href="index.html">Erinnerungswelten 360°</a>
        <a href="#">Raum der kleinen Schätze</a>
    </div>
  </div>

  <!-- INTRODUCTION CONTROLLER-INTERACTIONS -------------------------------->
  <div class="slider-container">
    <h2 class="title">Im Raum bewegen</h2>
    <video class="tutorialVideo" autoplay loop>
        <source class="videoSource" src="static/instructions/teleportation.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <div class="controls">
        <button class="prevBtn" disabled>Zurück</button>
        <div>
          <button class="skipBtn">Überspringen</button>
          <button class="nextBtn">weiter</button>
        </div>
    </div>
  </div>

  <a-scene>

    <!-- BACKGROUND -------------------------------->
    <!-- <a-sky color="#6EBAA7"></a-sky> -->
    <a-assets>
      <img id="sky" src="static/images/sky3.png">
    </a-assets>
    <a-sky rotation="0 130 0" src="#sky"></a-sky>



    <!-- LIGHTS -------------------------------->
    <a-entity 
      light="color: #ff8b88" 
      position="-254.34967 126.74175 -152.18188">
      <a-entity id="directionaltarget" position="0 0 0"></a-entity>
    </a-entity>
    <a-entity 
      light="color: #fefefe; intensity: 0.4" 
      position="0 10 0">
      <a-entity id="directionaltarget" position="0 0 0"></a-entity>
    </a-entity>

    <a-entity light="type: hemisphere; color: #ffffff; groundColor: #ffffff; intensity: 0.6"></a-entity>



    <!-- ASSETS -------------------------------->
    <a-assets>
      <a-asset-item 
        id="villageModel" 
        src="static/models/Content/Content.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="grassfloorModel" 
        src="static/models/Grassfloor/Grassfloor.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="stonefloorModel" 
        src="static/models/Stonefloor/Stonefloor.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="hammerModel" 
        src="static/models/Hammer/hammer_low-poly.glb">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="treasureAModel" 
        src="static/models/Treasure/TreasureA.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="treasureBModel" 
        src="static/models/Treasure/TreasureB.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <img id="woodTexture" src="static/textures/wood.jpg">
    </a-assets>

    <a-assets>
      <audio id="treasureOpen" src="static/sounds/TreasureOpen.mp3" preload="auto"></audio>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="shoe" 
        src="static/models/personalObjects/Shoe/shoe.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="heart" 
        src="static/models/personalObjects/heart/MedievalVillage.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="peppermill" 
        src="static/models/personalObjects/peppermill/peppermill.glb">
      </a-asset-item>
    </a-assets>
    



    <!-- CONTROLS -------------------------------->
      <a-entity id="cameraRig" position="3 -0.6 -2" rotation="0 180 0">

        <!-- Camera -->
        <a-entity id="head" camera look-controls wasd-controls position="0 1.6 0">

          <a-cursor objects="#cursor-object" color="#573D38" far="3"></a-cursor>
        </a-entity>

        <!-- Left Hand -->
        <a-entity 
            sphere-collider="objects: #dragable" 
            hand-controls="hand: left"
            super-hands
            blink-controls="cameraRig: #cameraRig; teleportOrigin: #head; collisionEntities: #ground; hitCylinderColor: #ff3468; curveHitColor: #ff3468; curveMissColor: #333333; curveLineWidth: 0.01;"
        ></a-entity>

        <!-- Right Hand -->
        <a-entity id="rightHand" raycaster="showLine:true; direction: 0 -2 -1" hand-controls="hand: right" paint></a-entity>

    </a-entity>
    


    <!-- WORLD -------------------------------->

      <!-- Sound -->
      <a-sound id="background-sound" src="src: url(static/sounds/Nature.mp3)" autoplay="true" position="0 0 0" volume="4" sound="maxDistance: 3000" loop="true"></a-sound>
      <a-sound id="background-sound" src="src: url(static/sounds/river.mp3)" autoplay="true" position="0 0.66566 -12.82367" volume="3" sound="maxDistance: 1000" loop="true"></a-sound>

      <!-- Models -->
          <!-- Village Model -->
          <a-entity
            position="0 0 0"
            scale="2.7 2.7 2.7"
            gltf-model="#villageModel" 
            modify-materials
            shadow="cast: true"
          ></a-entity>
      
          <!-- Grassfloor Model -->
          <a-entity 
            position="0 0 0"
            scale="2.7 2.7 2.7"
            gltf-model="#grassfloorModel" 
            modify-materials
          ></a-entity>
      
          <!-- Stonefloor Model -->
          <a-entity 
            id="ground"
            position="0 0 0"
            scale="2.7 2.7 2.7"
            gltf-model="#stonefloorModel" 
            modify-materials
            shadow="receive: true"
          ></a-entity>

      <!-- Text -->
          <a-entity 
            text="font: mozillavr; value: Holzwerkstatt;"
            scale="3.2 3.2 3.2"
            position="8.7 0.63 -2.65"
            rotation="0 -70 0"
          ></a-entity>
          
          <a-entity 
            text="font: mozillavr; value: Schatzkiste;"
            scale="3.2 3.2 3.2"
            position="4.8 0.6 8.2"
            rotation="0 -130 0"
          ></a-entity>
      
      <!-- Buttons -->

          <!-- Workshop -->
          <a-box 
            id="cursor-object"
            position="9.3 1.1 -3.15"
            color="#ffffff"
            height="0.3"
            width="0.1"
            depth="0.6"
            workshop-link
          ></a-box>
          
          <a-entity 
            text="font: roboto; value: starten; color: #000"
            scale="2 2 2"
            position="9.2 1.11 -2.29"
            rotation="0 -90 0"
          ></a-entity>          

          <!-- Canvas -->
            <a-entity position="-4.61 1.1 9.35" rotation="0 90 0" clear-painting>
             <a-box 
               id="cursor-object"
               position="0 0 0"            
               color="#ffffff" 
               height="0.3" 
               width="0.1" 
               depth="0.6"
              ></a-box>
         
               <a-entity 
                text="color: #000; value: neu beginnen" 
                position="0.07249 0 -0.71437" 
                scale="2 2 2" 
                rotation="0 90 0"
            ></a-entity>

           </a-entity>
      
      <!-- Workshop Design -->
          <!-- Hammer -->
          <a-entity 
            position="8.1 0.53 -3.32"
            rotation="0 100 0"
            gltf-model="#hammerModel" 
            modify-materials
          ></a-entity>
      
          <!-- Wooden Cubes -->
          <a-box src="#woodTexture" height="0.2" width="0.2" depth="0.2" position="8.4 0.6 -2.3"></a-box>
          <a-box src="#woodTexture" height="0.2" width="0.2" depth="0.2" position="8.4 0.8 -2.25"></a-box>
          <a-box src="#woodTexture" height="0.22" width="0.22" depth="0.22" position="8.4 0.62 -2.02"></a-box>
      
      
      <!-- Treasure Design -->
          <!-- Treasure -->
          <a-entity 
            height="2"
            position="6.03 0.57 6.3" 
            animation__mouseenter="startEvents: mouseenter; property: rotation; to: 0 0 -60; dur: 4000; easing: easeOutElastic;"
            sound="src: url(static/sounds/openTreasure.mp3)"
            sound-once >
              <!-- Text -->
              <a-entity 
                text="color: #fff; value: schau mal rein" 
                scale="2 2 2" 
                position="0 0.3 0.7" 
                rotation="0 -90 0">
              </a-entity>
              <!-- Treasure Head -->
              <a-entity 
                  id="cursor-object"
                  scale="3 3 3"
                  position="-0.1 0 0"
                  gltf-model="#treasureAModel" 
                  modify-materials
              ></a-entity>
          </a-entity> 
            
          <!-- Treasure Bottom -->
            <a-entity 
              scale="3 3 3"
              position="5.9 0.56 6.3"
              gltf-model="#treasureBModel" 
              modify-materials
            ></a-entity>

          <!-- Shoe -->
            <a-entity 
              id="dragable"
              grabbable
              rotation="0 -30 0"
              position="5.92 0.43324 6.38103"              
              gltf-model="#shoe" 
              modify-materials
            ></a-entity>

          <!-- Wooden Heart -->
            <a-entity 
              id="dragable"
              scale="0.8 0.8 0.8"
              grabbable
              rotation="0 -30 0"
              position="5.88 0.43324 6.28"              
              gltf-model="#heart" 
              modify-materials
            ></a-entity>

          <!-- Peppermill -->
          <a-entity 
          id="dragable"
          scale="1.1"
          grabbable
          position="5.81 0.4 6.2"              
          gltf-model="#peppermill" 
          modify-materials
        ></a-entity>

      <!-- Canvas Design -->
        <a-entity>
          <a-plane id="drawingPlane" rotation="-10 160 0" color="fefefe" height="1.6" width="1" position="-5.955 0.465 8.89"></a-plane>  
        </a-entity>
      
      </a-entity>
  </a-scene>
</body>