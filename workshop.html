<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Holzwerkstatt</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <script>
    delete AFRAME.components["grabbable"];
  </script>
  <!-- Extras -->
  <script defer src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.x/dist/aframe-extras.min.js"></script>
  <!-- Hand Extras -->
  <script defer src="https://unpkg.com/super-hands@^3.0.5/dist/super-hands.min.js"></script>
  <!-- Teleportation -->
  <script defer src="https://cdn.jsdelivr.net/npm/aframe-blink-controls/dist/aframe-blink-controls.min.js"></script>

  <!-- My Scripts -->
  <script defer src="Components/startLink.js"></script>
  <script defer src="Components/modifyMaterials.js"></script>
  <script defer src="Components/duplicateBlock.js"></script>
</head>

<body>
  <a-scene id="workshop-scene">


    <!-- BACKGROUND -------------------------------->
    <a-assets>
      <img id="sky" src="static/images/sky3.png">
    </a-assets>
    <a-sky rotation="0 130 0" src="#sky"></a-sky>



    <!-- LIGHTS -------------------------------->
    <a-entity 
      light="color: #ff8b88" 
      position="-254.34967 126.74175 -152.18188">
      <a-entity id="directionaltarget" position="0 0 0"></a-entity>
    </a-entity>
    <a-entity 
      light="color: #fefefe; intensity: 0.4" 
      position="0 10 0">
      <a-entity id="directionaltarget" position="0 0 0"></a-entity>
    </a-entity>

    <a-entity light="type: hemisphere; color: #ffffff; groundColor: #ffffff; intensity: 0.6"></a-entity>



    <!-- ASSETS -------------------------------->
    <a-assets>
      <a-asset-item 
        id="villageModel" 
        src="static/models/Content/Content.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="grassfloorModel" 
        src="static/models/Grassfloor/Grassfloor.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="stonefloorModel" 
        src="static/models/Stonefloor/Stonefloor.gltf">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item 
        id="hammerModel" 
        src="static/models/Hammer/hammer_low-poly.glb">
      </a-asset-item>
    </a-assets>

    <a-assets>
      <img id="woodTexture" src="static/textures/wood.jpg">
    </a-assets>

    <a-assets>
      <video id="instruction-blocks" autoplay loop="true" src="static/instructions/instructionBlocks.mp4"></video>
    </a-assets>

    <a-assets>
      <video id="instruction-blocks2" autoplay loop="true" src="static/instructions/instructionBlocks2.mp4"></video>
    </a-assets>
  



    <!-- CONTROLS -------------------------------->
    <a-entity id="cameraRig" position="7.6 -0.6 -3.2" rotation="0 -90 0">

        <!-- Camera -->
        <a-entity id="head" wasd-controls camera look-controls position="0 1.6 0" rotation="0 0 0">
            <a-cursor objects="#cursor-blocks"></a-cursor>
        </a-entity>

        <!-- Left Hand -->
        <a-entity 
            sphere-collider="objects: #dragging" 
            super-hands 
            hand-controls="hand: left"
        ></a-entity>

        <a-entity id="rightHand" raycaster="showLine:true; direction: 0 -2 -1" hand-controls="hand: right" duplicate-block></a-entity>

    </a-entity>
    


    <!-- WORLD -------------------------------->

      <!-- Sound -->
      <a-sound src="src: url(static/sounds/Nature.mp3)" autoplay="true" position="0 0 0" volume="3" sound="maxDistance: 3000" loop="true"></a-sound>

      <!-- Models -->
          <!-- Village Model -->
          <a-entity
            position="0 0 0"
            scale="2.7 2.7 2.7"
            gltf-model="#villageModel" 
            modify-materials
          ></a-entity>
      
          <!-- Grassfloor Model -->
          <a-entity 
            position="0 0 0"
            scale="2.7 2.7 2.7"
            gltf-model="#grassfloorModel" 
            modify-materials
          ></a-entity>
      
          <!-- Stonefloor Model -->
          <a-entity 
            id="ground"
            position="0 0 0"
            scale="2.7 2.7 2.7"
            gltf-model="#stonefloorModel" 
            modify-materials
          ></a-entity>
      
      <!-- Links -->
          <!-- Workshop -->
          <a-box 
            id="cursor-blocks"
            position="9.3 0.5 -3.15"
            color="#ffffff"
            height="0.3"
            width="0.1"
            depth="0.6"
            rotation="0 5 0"
            start-link
          ></a-box>
          
          <a-entity 
            text="font: roboto; value: beenden; color: #000"
            scale="2 2 2"
            position="9.25 0.51 -2.32"
            rotation="0 -85 0"
          ></a-entity>
      
      <!-- Workshop Design -->
            <!-- Hammer -->
            <a-entity 
                position="8.1 0.53 -3.4"
                rotation="0 120 0"
                gltf-model="#hammerModel" 
                modify-materials
            ></a-entity>
 
            <!-- Building Blocks -->
            <a-box id="original-blocks" src="#woodTexture" height="0.1" width="0.1" depth="0.1" position="8.4 0.55 -2.2" rotation="0 5 0"></a-box>
            <a-cylinder id="original-blocks" src="#woodTexture" height="0.3" radius="0.02" position="8.2 0.52 -2.2" rotation="90 5 0"></a-cylinder>
            <a-box id="original-blocks" src="#woodTexture" height="0.02" width="0.1" depth="0.3" position="8 0.51 -2.2" rotation="0 5 0"></a-box>

      <!-- INSTRUCTION -->
      <a-entity position="9.2 1.11 -3.175">
        <a-video src="#instruction-blocks2" width="1.28" height="0.6" autoplay="true" position="0 0 -0.62" rotation="0 -85 0"></a-video>
        <a-video src="#instruction-blocks" width="1.28" height="0.6" autoplay="true" position="0.09 0 0.67" rotation="0 -85 0"></a-video>
      </a-entity>
      

  </a-scene>
</body>